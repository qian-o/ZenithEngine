using ZenithEngine.Common;
using ZenithEngine.Common.Descriptions;
using ZenithEngine.Common.Enums;

namespace ZenithEngine.ImGuiWrapper;

internal static class Shaders
{
    public const string Slang = @"
struct VSInput
{
    float2 Position : POSITION0;
    
    float2 UV : TEXCOORD0;
    
    float4 Color : COLOR0;
};

struct VSOutput
{
    float4 Position : SV_POSITION;
    
    float2 UV : TEXCOORD0;
    
    float4 Color : COLOR0;
};

struct Constants
{
    float4x4 Projection;
};

uniform Constants constants;
uniform Texture2D texture;
uniform SamplerState sampler;

float3 SrgbToLinear(float3 srgb)
{
    return srgb * (srgb * (srgb * 0.305306011 + 0.682171111) + 0.012522878);
}

VSOutput VSMain(VSInput input)
{
    VSOutput output;
    
    output.Position = mul(float4(input.Position, 0.0, 1.0), constants.Projection);
    output.UV = input.UV;
    output.Color = input.Color;
    
#if 0
    output.Color.rgb = SrgbToLinear(output.Color.rgb);
#endif
    
    return output;
}

float4 PSMain(VSOutput input) : SV_TARGET
{
    return input.Color * texture.Sample(sampler, input.UV);
}
";

    public const string VSMain = "VSMain";

    public const string PSMain = "PSMain";

    public const string VSByLegacyHexDxil = "445842437A702392AE41BED37B32DE067CAD1A9D0100000038120000070000003C0000004C000000D40000006001000090020000DC090000F8090000534649300800000000000000000000004953473180000000030000000800000000000000680000000000000000000000030000000000000003030000000000000000000071000000000000000000000003000000010000000303000000000000000000007A000000000000000000000003000000020000000F0F000000000000504F534954494F4E00544558434F4F524400434F4C4F52004F5347318400000003000000080000000000000068000000000000000100000003000000000000000F00000000000000000000007400000000000000000000000300000001000000030C000000000000000000007D000000000000000000000003000000020000000F0000000000000053565F506F736974696F6E00544558434F4F524400434F4C4F5200005053563028010000340000000100000000000000000000000000000000000000FFFFFFFF010000000303000303000000000000000000000000000000280000000100000018000000020000000000000000000000000000000D000000000000003000000000504F534954494F4E00544558434F4F524400434F4C4F5200544558434F4F524400434F4C4F520056534D61696E0000010000000000000010000000010000000000000001004200030000000A000000000000000101420003000000130000000000000001024400030000000000000000000000010044030304000019000000000000000101420003020000220000000000000001024400030200000F0000000F00000000000000000000001000000020000000000000000000000000010000000200000004000000080000535441544407000066000100D10100004458494C06010000100000002C0700004243C0DE210C0000C80100000B82200002000000130000000781239141C80449061032399201840C250508191E048B628018450242920B42C41032143808184B0A32628848901420434688A500193242E4480E901123C4504151818CE183E58A0431460651180000080000001B8CE0FFFFFFFF074002A80D84F0FFFFFFFF03206D3086FFFFFFFF1F0009A800491800000300000013826042204C080600000000892000003F00000032228809206485041323A484041323E384A19014124C8C8C0B84C44C1088C1084009000A6600E608C0608E0029C64010444190510C8020886220E4A8E1F227EC21249FDBA8622526BFB86D440CC3305071CF70F913F610921F02CDB01028580AA1100C414D29066218067A6E1B2E7FC21E42F2574272A84820D2C879886842080909045108866022920E1A2E7FC21E42F25742DA906640044110C51C41500A86A0888AAC81806104624882EC2C610124C9678029422EBF581C60F2711F4781769234459430F99CD34813D04CD24FA360BB4A9A224A987C7071026049810860A49F4601778EB13801B0A4400430D24FA3A0232F1D8839025000000000131472C08774608736688779680372C0870DAE500E6DD00E7A500E6D000F7A300772A0077320076D900E71A0077320076D900E78A00778D006E9100776A0077160076D900E7320077A300772D006E9600774A0077640076D600E7160077A100776D006E6300772A0077320076D600E7640077A600774D006EE80077A100776A0077320077A60077430E4098000000000000000000060C86300011000000000000000C090070102400000000000000080214F0304C00000000000000000439E0708800000000000000000863C12100001000000000000000C792C20000200000000000000C802010016000000321E981419114C908C092647C60443224AA01846000A30A00C8AA010CAA124CAA3200AAC28A82889118022288432A0B000010111A89B01206F0680BE190002C77218E679000002030000111002C1000405E2660000000000791800009F0000001A034C90460213C43120C31B4381934BB30BA32B4B018971C1718171A1C181B10141B9A9098391C921CBA949D910041304E2982010C8066120260844B241300C0A76731B06842026081F47E78CED4D2C8C0D2A4C2EAC6DEE0B668240281B1043590C6360800D41B3810000079820741A97B137B739BA3037BAB92F980902B16C208848323608CC3441E03C3250726F6A656374696F6E5F30130482992010CD8601C3860902E14C108867034258572619DAB64160B80982B76D208845323608CCB7E13020AAEA3C30982008C00660C3608CC1186C08C860C3308841194C10C0A0DB109C010DABA9A6B0343722504F534954494F4E1384829A2014D586C0982014D6064192362C861AAC011BB4011B0C6E60B0C11B10A12AC21A7A7A9222DAB00C71B0066CD0066C30B8C1C0066FC062E889E9496A82505C130402DA204875B061B9E6600DD8A00DD860A0838B0DEC60C300077270075CA6ACBEA0DEE6D2E8D2DEDC260805B66131F2600DF4A00DE860A003830DEC60C332C4C11AB0411BB8C1E006031BBCC186E59A83356083367083810E2E36B0830DC31EF0411F6C18F0C00F80094218641B04031436146290067FF084020D33B6B730BAB9090211B148739BA39B9B2010128DB9B4B32F36321A7369675F7374130462DA808C02299482299C0229A0422A546163B36B7349232B73A39B120455C8F05CECCAE4E6D2DEDCA6044413323C17BB3036BB32B9298151870CCF650E2D8CAC4CAEE98DAC8C6D4A809421C373912B9B7BAB931B2B9B9B123895C8F05CE8F2E0CA82DCDCDEE8C2E8D2DEDCE6A60860500675C8F05CECD2CAEE92C8A6E8C2E8CAA6046750870CCFA5CC8D4E2E0FEA2DCD8D6E6E4A100A5DC8F05CC6DEEADCE8CAE4E6A604A900791800004C0000003308801CC4E11C6614013D88433884C38C4280077978077398710CE6000FED100EF4800E330C421EC2C11DCEA11C6630053D88433884831BCC033DC8433D8C033DCC788C7470077B08077948877070077A700376788770208719CC110EEC900EE1300F6E300FE3F00EF0500E3310C41DDE211CD8211DC2611E6630893BBC833BD04339B4033CBC833C84033BCCF0147660077B680737688772680737808770908770600776280776F8057678877780875F08877118877298877998812CEEF00EEEE00EF5C00EEC300362C8A11CE4A11CCCA11CE4A11CDC611CCA211CC4811DCA6106D6904339C84339984339C84339B8C33894433888033B94C32FBC833CFC823BD4033BB0C38CC821077C70037210877370037B080779608770C88777A8077A98813CE4800F6E400FE5D00EF0000000712000001F0000000660BCAC09208D1550C3E53B8F0F348D3301131102CDB01036B00D97EF3CBE1050454144A5030C25610002E617B76D06DD70F9CEE30B11014C440834C3427C91C36C4833208D6101D370F9CEE32F0E3088CD434D7E71DB26500D97EF3CBE3439118152D3434D7E71DB46200D97EF3CFE4444130244985FDC36000000000000004841534814000000000000003A5325D4A336C7EC22988939C7B117274458494C38080000660001000E0200004458494C0601000010000000200800004243C0DE210C0000050200000B82200002000000130000000781239141C80449061032399201840C250508191E048B628018450242920B42C41032143808184B0A32628848901420434688A500193242E4480E901123C4504151818CE183E58A0431460651180000080000001B8CE0FFFFFFFF074002A80D84F0FFFFFFFF03206D3086FFFFFFFF1F0009A800491800000300000013826042204C080600000000892000003F00000032228809206485041323A484041323E384A19014124C8C8C0B84C44C1088C1084009000A6600E608C0608E0029C64010444190510C8020886220E4A8E1F227EC21249FDBA8622526BFB86D440CC3305071CF70F913F610921F02CDB01028580AA1100C414D29066218067A6E1B2E7FC21E42F2574272A84820D2C879886842080909045108866022920E1A2E7FC21E42F25742DA906640044110C51C41500A86A0888AAC81806104624882EC2C610124C9678029422EBF581C60F2711F4781769234459430F99CD34813D04CD24FA360BB4A9A224A987C7071026049810860A49F4601778EB13801B0A4400430D24FA3A0232F1D8839025000000000131472C08774608736688779680372C0870DAE500E6DD00E7A500E6D000F7A300772A0077320076D900E71A0077320076D900E78A00778D006E9100776A0077160076D900E7320077A300772D006E9600774A0077640076D600E7160077A100776D006E6300772A0077320076D600E7640077A600774D006EE80077A100776A0077320077A60077430E4090000000000000000000060C86300011000000000000000C090070102400000000000000080214F0304C00000000000000000439E0708800000000000000000863C12100001000000000000000C792C20000200000000000000C802010011000000321E981419114C908C092647C60443224AA0184A6204A00003CAA008CA838A92180128824228030A0B10101081C0B11C86791E0080C000004004844030004181BE19000079180000650000001A034C90460213C43120C31B4381934BB30BA32B4B018971C1718171A1C181B10141B9A9098391C921CBA949D910041304E2982010C8066120260844B241180C0A76731B0684202608843241F82C02130462D980280BA32843036C089C0D04003CC004010CAA0D41344110001A56534D61696E44A09EA692A8929E9C2608C5334128A00D81324128A20902C16C10346DC3A254D6855D43A65C1B11AA22ACA1A72729A20DCBD05917760DD9706D1304A26131F4C4F424354128A40902E16C103431D8B07C60605DD83584C1778DC18681F3C880CB94D517D4DB5C1A5DDA9BDB04A198362C8A1958678085C11006CA35061B96A1B32E2C1BB2E1DA362C1F185817960D61F05D63B06140833450830D4319AC01304108036A83A0B4C18662A2D80072832A6C6C766D2E6964656E745382A00A199E8B5D99DC5CDA9BDB9480684286E76217C6665726372530EA90E1B9CCA1859195C935BD9195B14D09903264782E7265736F75726365735382A70E199E8B5D5AD95D12D9145D185DD99420AA4386E752E646279707F596E646373725700300000000791800004C0000003308801CC4E11C6614013D88433884C38C4280077978077398710CE6000FED100EF4800E330C421EC2C11DCEA11C6630053D88433884831BCC033DC8433D8C033DCC788C7470077B08077948877070077A700376788770208719CC110EEC900EE1300F6E300FE3F00EF0500E3310C41DDE211CD8211DC2611E6630893BBC833BD04339B4033CBC833C84033BCCF0147660077B680737688772680737808770908770600776280776F8057678877780875F08877118877298877998812CEEF00EEEE00EF5C00EEC300362C8A11CE4A11CCCA11CE4A11CDC611CCA211CC4811DCA6106D6904339C84339984339C84339B8C33894433888033B94C32FBC833CFC823BD4033BB0C38CC821077C70037210877370037B080779608770C88777A8077A98813CE4800F6E400FE5D00EF0000000712000001F0000000660BCAC09208D1550C3E53B8F0F348D3301131102CDB01036B00D97EF3CBE1050454144A5030C25610002E617B76D06DD70F9CEE30B11014C440834C3427C91C36C4833208D6101D370F9CEE32F0E3088CD434D7E71DB26500D97EF3CBE3439118152D3434D7E71DB46200D97EF3CFE4444130244985FDC36000000612000007A0000001304412C100000000900000044944221CC001457D995EC40C10E9406152540D508005173108AA24414CD21780B000000230608008260607587900D230607008260207D47208C18240008828141060DB655CC8841028020181865E064DCD18C18240008828161068FD659CE8841028020181867006D5EF58C182400088281810691187C1934629000200806461A486300064B34629000200806861A4C6110069B34629000200806C61A50622006CD346270002008068D1A48C9188C2604C06882108C260CC26802318C181C00088241F30697B306A30901309A2004A30983309A400C230607008260D0D00137ADC16842008C2608C168C2208C26108339917C460C100004C1E0C983318894C08C003A0651F219314000100483870FCC8062020B10E89874C967C4000140100C9E3F4883CB092C50A06394269F1103040041307844810D3428B08081CE88410280201820A610077EE00778A08C182400088201620A71E0077E9006C788410280201820A610077EE00777408C182400088201620A71E0077E5007C188410280201820A61007A1E00778F08D182400088201620A71100A7E9006DE88410280201820A610077BE0077830062306090082608098421CEC811FA481188C182400088201620A71B0077E700761306290002008068829C4C11EF8411D80010200000000";

    public const string VSByLinearHexDxil = "445842432707BE15719DDF52AF1569FEC53059C70100000094120000070000003C0000004C000000D40000006001000090020000E0090000FC090000534649300800000000000000000000004953473180000000030000000800000000000000680000000000000000000000030000000000000003030000000000000000000071000000000000000000000003000000010000000303000000000000000000007A000000000000000000000003000000020000000F0F000000000000504F534954494F4E00544558434F4F524400434F4C4F52004F5347318400000003000000080000000000000068000000000000000100000003000000000000000F00000000000000000000007400000000000000000000000300000001000000030C000000000000000000007D000000000000000000000003000000020000000F0000000000000053565F506F736974696F6E00544558434F4F524400434F4C4F5200005053563028010000340000000100000000000000000000000000000000000000FFFFFFFF010000000303000303000000000000000000000000000000280000000100000018000000020000000000000000000000000000000D000000000000003000000000504F534954494F4E00544558434F4F524400434F4C4F5200544558434F4F524400434F4C4F520056534D61696E0000010000000000000010000000010000000000000001004200030000000A000000000000000101420003000000130000000000000001024400030000000000000000000000010044030304000019000000000000000101420003020000220000000000000001024400030200000F0000000F00000000000000000000001000000020000000000000000000000000010000000200000004000000080000535441544807000066000100D20100004458494C0601000010000000300700004243C0DE210C0000C90100000B82200002000000130000000781239141C80449061032399201840C250508191E048B628018450242920B42C41032143808184B0A32628848901420434688A500193242E4480E901123C4504151818CE183E58A0431460651180000080000001B8CE0FFFFFFFF074002A80D84F0FFFFFFFF03206D3086FFFFFFFF1F0009A800491800000300000013826042204C080600000000892000003F00000032228809206485041323A484041323E384A19014124C8C8C0B84C44C1088C1084009000A6600E608C0608E0029C64010444190510C8020886220E4A8E1F227EC21249FDBA8622526BFB86D440CC3305071CF70F913F610921F02CDB01028580AA1100C414D29066218067A6E1B2E7FC21E42F2574272A84820D2C879886842080909045108866022920E1A2E7FC21E42F25742DA906640044110C51C41500A86A0888AAC81806104624882EC2C610124C9678029422EBF581C60F2711F4781769234459430F99CD34813D04CD24FA360BB4A9A224A987C7071026049810860A49F4601778EB13801B0A4400430D24FA3A0232F1D8839025000000000131472C08774608736688779680372C0870DAE500E6DD00E7A500E6D000F7A300772A0077320076D900E71A0077320076D900E78A00778D006E9100776A0077160076D900E7320077A300772D006E9600774A0077640076D600E7160077A100776D006E6300772A0077320076D600E7640077A600774D006EE80077A100776A0077320077A60077430E4098000000000000000000060C86300011000000000000000C090070102400000000000000080214F0304C00000000000000000439E0708800000000000000000863C12100001000000000000000C792C20000200000000000000C802010016000000321E981819114C908C092647C60443224AA01846000A30A00C8AA010CAA124CAA35CCAAF208A828A92180128824228030A0B10101081BA1900F26600E89B0120702C87619E070020300000100121100C4050206E0600000079180000A00000001A034C90460213C43120C31B4381934BB30BA32B4B018971C1718171A1C181B10141B9A9098391C921CBA949D910041304E2982010C8066120260844B241300C0A76731B06842026085F47E78CED4D2C8C0D2A4C2EAC6DEE0B668240281B1043590C6360800D41B3810000079820741B97B137B739BA3037BAB92F980902B16C208848323608CC3441E03E3250726F6A656374696F6E5F30130482992010CD8601C3860902E14C108867034258572619DAB64160B80982C76D208845323608CCB7E13020AAEA3C30982008C00660C3608CC1186C08C860C3308841194C10C0C0DB109C010DABA9A6B0343722504F534954494F4E1384A29A2014D686C0982014D7064192362C861AAC011BB4011B0C6E60B0C11B10A12AC21A7A7A9222DAB00C71B0066CD0066C30B8C1C0066FC062E889E9496A825060130402DA204875B061B9E6600DD8A00DD860A0838B0DEC60C300077270075CA6ACBEA0DEE6D2E8D2DEDC260845B66131F2600DF4A00DE860A003830DEC60C332C4C11AB0411BB8C1E006031BBCC186E59A83356083367083810E2E36B0830DC31EF0411F6C18F0C00F80094218681B04031436146290067FF084020D33B6B730BAB9090211B148739BA39B9B2010128DB9B4B32F36B2090231D1984B3BFB9AA39B2010D406641448A1144CE11450211554A10A1B9B5D9B4B1A59991BDD9420A84286E76257263797F6E63625209A90E1B9D885B1D995C94D098C3A64782E7368616465724D6F64656C5302A40C199E8B5CD9DC5B9DDC58D9DC94C0A94486E74297075716E4E6F646174697F6E6363745008332A84386E76297567697443645174657362538833A64782E656E747279506F696E7473538250E84286E732F656E7465726373725500500791800004C0000003308801CC4E11C6614013D88433884C38C4280077978077398710CE6000FED100EF4800E330C421EC2C11DCEA11C6630053D88433884831BCC033DC8433D8C033DCC788C7470077B08077948877070077A700376788770208719CC110EEC900EE1300F6E300FE3F00EF0500E3310C41DDE211CD8211DC2611E6630893BBC833BD04339B4033CBC833C84033BCCF0147660077B680737688772680737808770908770600776280776F8057678877780875F08877118877298877998812CEEF00EEEE00EF5C00EEC300362C8A11CE4A11CCCA11CE4A11CDC611CCA211CC4811DCA6106D6904339C84339984339C84339B8C33894433888033B94C32FBC833CFC823BD4033BB0C30CC421077C70037A288776808719D1430EF8E006E4200EE7E006F6100EF2C00EE1900FEF500FF4000000712000001F0000000660BCAC09208D1550C3E53B8F0F348D3301131102CDB01036B00D97EF3CBE1050454144A5030C25610002E617B76D06DD70F9CEE30B11014C440834C3427C91C36C4833208D6101D370F9CEE32F0E3088CD434D7E71DB26500D97EF3CBE3439118152D3434D7E71DB46200D97EF3CFE4444130244985FDC360000000000000048415348140000000000000036C0F96AA5DAF2DA7E0E9FE614FC39394458494C9008000066000100240200004458494C0601000010000000780800004243C0DE210C00001B0200000B82200002000000130000000781239141C80449061032399201840C250508191E048B628018450242920B42C41032143808184B0A32628848901420434688A500193242E4480E901123C4504151818CE183E58A0431460651180000080000001B8CE0FFFFFFFF074002A80D84F0FFFFFFFF03206D3086FFFFFFFF1F0009A800491800000300000013826042204C080600000000892000003F00000032228809206485041323A484041323E384A19014124C8C8C0B84C44C1088C1084009000A6600E608C0608E0029C64010444190510C8020886220E4A8E1F227EC21249FDBA8622526BFB86D440CC3305071CF70F913F610921F02CDB01028580AA1100C414D29066218067A6E1B2E7FC21E42F2574272A84820D2C879886842080909045108866022920E1A2E7FC21E42F25742DA906640044110C51C41500A86A0888AAC81806104624882EC2C610124C9678029422EBF581C60F2711F4781769234459430F99CD34813D04CD24FA360BB4A9A224A987C7071026049810860A49F4601778EB13801B0A4400430D24FA3A0232F1D8839025000000000131472C08774608736688779680372C0870DAE500E6DD00E7A500E6D000F7A300772A0077320076D900E71A0077320076D900E78A00778D006E9100776A0077160076D900E7320077A300772D006E9600774A0077640076D600E7160077A100776D006E6300772A0077320076D600E7640077A600774D006EE80077A100776A0077320077A60077430E4090000000000000000000060C86300011000000000000000C090070102400000000000000080214F0304C00000000000000000439E0708800000000000000000863C12100001000000000000000C792C20000200000000000000C802010011000000321E981419114C908C092647C60443224AA0184A6204A00003CAA008CA838A92180128824228030A0B10101081C0B11C86791E0080C000004004844030004181BE19000079180000650000001A034C90460213C43120C31B4381934BB30BA32B4B018971C1718171A1C181B10141B9A9098391C921CBA949D910041304E2982010C8066120260844B241180C0A76731B0684202608843241F82C02130462D980280BA32843036C089C0D04003CC004010CAA0D41344110001A56534D61696E44A09EA692A8929E9C2608C5334128A00D81324128A20902C16C10346DC3A254D6855D43A65C1B11AA22ACA1A72729A20DCBD05917760DD9706D1304A26131F4C4F424354128A40902E16C103431D8B07C60605DD83584C1778DC18681F3C880CB94D517D4DB5C1A5DDA9BDB04A198362C8A1958678085C11006CA35061B96A1B32E2C1BB2E1DA362C1F185817960D61F05D63B06140833450830D4319AC01304108036A83A0B4C18662A2D80072832A6C6C766D2E6964656E745382A00A199E8B5D99DC5CDA9BDB9480684286E76217C6665726372530EA90E1B9CCA1859195C935BD9195B14D09903264782E7265736F75726365735382A70E199E8B5D5AD95D12D9145D185DD99420AA4386E752E646279707F596E646373725700300000000791800004C0000003308801CC4E11C6614013D88433884C38C4280077978077398710CE6000FED100EF4800E330C421EC2C11DCEA11C6630053D88433884831BCC033DC8433D8C033DCC788C7470077B08077948877070077A700376788770208719CC110EEC900EE1300F6E300FE3F00EF0500E3310C41DDE211CD8211DC2611E6630893BBC833BD04339B4033CBC833C84033BCCF0147660077B680737688772680737808770908770600776280776F8057678877780875F08877118877298877998812CEEF00EEEE00EF5C00EEC300362C8A11CE4A11CCCA11CE4A11CDC611CCA211CC4811DCA6106D6904339C84339984339C84339B8C33894433888033B94C32FBC833CFC823BD4033BB0C30CC421077C70037A288776808719D1430EF8E006E4200EE7E006F6100EF2C00EE1900FEF500FF4000000712000001F0000000660BCAC09208D1550C3E53B8F0F348D3301131102CDB01036B00D97EF3CBE1050454144A5030C25610002E617B76D06DD70F9CEE30B11014C440834C3427C91C36C4833208D6101D370F9CEE32F0E3088CD434D7E71DB26500D97EF3CBE3439118152D3434D7E71DB46200D97EF3CFE4444130244985FDC3600000061200000900000001304412C100000000E000000548D005051024494462914C20C4071955DC90E14EC000D6304A2B9EAA4374640DA682F7F14CD21640B5173108AA244348C11C8288DA71F002306080082606081C12170CF88C10180201848627004C48841028020181867D06C1EC68C18240008828181060EF745CD8841028020181869F07460903923060900826060A801E48501F68C182400088281B10651198801078D182400088281C10692198C41158D182400088281D10613199081278D182400088281E106541994C1358D181C00088241D306526206A30901309A2004A30983309A400C230607008260D0C8C1E5B8C16842008C2608C168C2208C2610C388C1018020183477C04D6E309A1000A30942309A3008A309C4604E249F11030400413078F8600C22253023808E41947C460C100004C1E0F90333A098C002043A265DF2193140001004834714D2E072020B14E818A5C967C4000140100C9E5260030D0A2C60A063636006F2B1313803F9D818A0817C6C6003F8D8D006F0B1C10DE063431AC8C78634908F0D69201F1BE6003E36D0017C6CA803F8D8F006F2B1E10DE463C31BC867C4200140100C105C000558800555C8460C120004C100C1055080055810056BC4200140100C105C00055880855498460C120004C100C10550800558380568C4200140100C105C00855980055570831183040041304070011466011644A10D460C120004C100C10550680558508561C4200140100C105C00855680055110460C120004C100C10550680558488560C4200140100C105C0085568085537803040000000000";

    public const string PSHexDxil = "4458424326F04062C62FCADB61387300D703E39001000000CC100000070000003C0000004C000000D800000014010000240200001C0900003809000053464930080000000000000000000000495347318400000003000000080000000000000068000000000000000100000003000000000000000F000000000000000000000074000000000000000000000003000000010000000303000000000000000000007D000000000000000000000003000000020000000F0F00000000000053565F506F736974696F6E00544558434F4F524400434F4C4F5200004F5347313400000001000000080000000000000028000000000000004000000003000000000000000F0000000000000053565F5461726765740000005053563008010000340000000000000000000000000000000000000000000000FFFFFFFF000000000301000301000000000000000000000000000000100000000200000018000000010000000000000000000000000000000E000000000000000300000000000000000000000000000002000000000000001800000000544558434F4F524400434F4C4F520050534D61696E000001000000000000001000000000000000000000000100440303040000010000000000000001014200030200000A00000000000000010244000302000000000000000000000100441003000000000000000000000000000000000000000F0000000F00000000000000000000000100000002000000040000000800000053544154F006000066000000BC0100004458494C0601000010000000D80600004243C0DE210C0000B30100000B82200002000000130000000781239141C80449061032399201840C250508191E048B628014450242920B42A41032143808184B0A32528848901420434688A500193242E4480E909122C4504151818CE183E58A0429460651180000080000001B8CE0FFFFFFFF074002A80D84F0FFFFFFFF03206D3086FFFFFFFF1F0009A800491800000300000013826042204C080600000000892000005000000032224809206485049322A484049322E384A19014124C8A8C0B84A44C107C23002500146600E608C0608E0029C620841442A61880105206A19B86CB9FB08790FC95905662F28BDB46C51863102AF70C973F610F21F921D00C0B8182551845181B630C42C8A076DB70F913F61092BF12924345029146CE43441342484820A4108CB047F0A0E1F227EC21247F25A40D6906441042CA1C41500A46249944070286118861A636180776088779980737A08572C0077AA8077928073920053EB0877218077A780779E0037360877708077A600330A0033F00033FD0033D688774808779F8057AC807782807149099C4601CD8211CE6611EDC8016CA011FE8A11EE4A11CE48014F8C01ECA611CE8E11DE4810FCC811DDE211CE8810DC0800EFC000CFC00091753BE499A224A987C16609E8588D80998081410DAE940E608400100000000131472C08774608736688779680372C0870DAE500E6DD00E7A500E6D000F7A300772A0077320076D900E71A0077320076D900E78A00778D006E9100776A0077160076D900E7320077A300772D006E9600774A0077640076D600E7160077A100776D006E6300772A0077320076D600E7640077A600774D006EE80077A100776A0077320077A60077430E4098000000000000000000060C86300011000000000000000C090070102400000000000000080214F0304C00000000000000000431E0808800000000000000000863C1410000100000000000000648100000011000000321E981419114C908C092647C604432225500C230045501265501E855030544AA20C0A6104A0080A847C01020222109F01A03E96C310000000CF0300814020A46700000079180000870000001A034C90460213C43120C31B4381934BB30BA32B4B018971C1718171A1C181B10141B9A9098391C921CBA949D910041304C2982010C7066120260804B241300C0A70731B06842026081AC684AE0C8FAE4EAEEC0B66824024130442D92018CD86C45016C31818C3D9103C1304CE623217D606C75626F705B3013122C9300603D8104C1B080800A80982006C00360CC6756D08B00DC360651384EEDA106C34A0A69AC2D2DCB84C597D41BDCDA5D1A5BDB94D108A678250401B0263825044138442DAB018DE0706612006831818630010A12AC21A7A7A92229A2014D304815836086770061B96A10CBE3108033318CC601803346031F4C4F424354120980DC219ACC1868551836F0CC2C00C063160C6800D360C6490066DC064CAEA8B2A4CEEAC8C6E8250501B16E30D3E3808833118C4C0180336D810C4C186C10DE400982078D506C1A0830D85D5CD41550734CCD8DEC2E8E6260844C322CD6D8E6E6E82403834E6D2CEBED8C868CCA59D7DCDD111A12BC3FB727B936BDBA0DC011EE4811EEC01C10778D00743153636BB369734B23237BA294150850CCFC5AE4C6E2EEDCD6D4A403421C373B10B63B32B939B121875C8F05CE6D0C2C8CAE49ADEC8CAD8A6044819323C17B9B2B9B73AB9B1B2B9290155890CCF852E0FAE2CC8CDED8D2E8C2EEDCD6D6E4A90D521C373B14B2BBB4B229BA20BA32B9B126C75C8F05CCADCE8E4F2A0DED2DCE8E6A60475D0850CCF65ECADCE8DAE4C6E6E4AD007000000791800004C0000003308801CC4E11C6614013D88433884C38C4280077978077398710CE6000FED100EF4800E330C421EC2C11DCEA11C6630053D88433884831BCC033DC8433D8C033DCC788C7470077B08077948877070077A700376788770208719CC110EEC900EE1300F6E300FE3F00EF0500E3310C41DDE211CD8211DC2611E6630893BBC833BD04339B4033CBC833C84033BCCF0147660077B680737688772680737808770908770600776280776F8057678877780875F08877118877298877998812CEEF00EEEE00EF5C00EEC300362C8A11CE4A11CCCA11CE4A11CDC611CCA211CC4811DCA6106D6904339C84339984339C84339B8C33894433888033B94C32FBC833CFC823BD4033BB0C30CC421077C70037A288776808719D1430EF8E006E4200EE7E006F6100EF2C00EE1900FEF500FF400000071200000190000000660A4AC09208D1150C3E53B8F0F348D3301131102CDB01056D00D97EF3CBE1011C0448440332CC41739CC863403D21816300D97EF3CFEE20083D83CD4E417B76D03D070F9CEE34B00F32C845FDCB60954C3E53B8F2F4D4E44A0D4F450935FDC3600000000000000484153481400000000000000733572869FFEE0DE0250DF13358F85824458494C8C07000066000000E30100004458494C0601000010000000740700004243C0DE210C0000DA0100000B82200002000000130000000781239141C80449061032399201840C250508191E048B628014450242920B42A41032143808184B0A32528848901420434688A500193242E4480E909122C4504151818CE183E58A0429460651180000080000001B8CE0FFFFFFFF074002A80D84F0FFFFFFFF03206D3086FFFFFFFF1F0009A800491800000300000013826042204C080600000000892000005000000032224809206485049322A484049322E384A19014124C8A8C0B84A44C107C23002500146600E608C0608E0029C620841442A61880105206A19B86CB9FB08790FC95905662F28BDB46C51863102AF70C973F610F21F921D00C0B8182551845181B630C42C8A076DB70F913F61092BF12924345029146CE43441342484820A4108CB047F0A0E1F227EC21247F25A40D6906441042CA1C41500A46249944070286118861A636180776088779980737A08572C0077AA8077928073920053EB0877218077A780779E0037360877708077A600330A0033F00033FD0033D688774808779F8057AC807782807149099C4601CD8211CE6611EDC8016CA011FE8A11EE4A11CE48014F8C01ECA611CE8E11DE4810FCC811DDE211CE8810DC0800EFC000CFC00091753BE499A224A987C16609E8588D80998081410DAE940E608400100000000131472C08774608736688779680372C0870DAE500E6DD00E7A500E6D000F7A300772A0077320076D900E71A0077320076D900E78A00778D006E9100776A0077160076D900E7320077A300772D006E9600774A0077640076D600E7160077A100776D006E6300772A0077320076D600E7640077A600774D006EE80077A100776A0077320077A60077430E4090000000000000000000060C86300011000000000000000C090070102400000000000000080214F0304C00000000000000000431E0808800000000000000000863C1410000100000000000000648100000010000000321E981419114C908C092647C604432225500C253102500465501E544AA20C0A6104A0080A847C01020222109F01A03E96C310000000CF0300814020A467000079180000640000001A034C90460213C43120C31B4381934BB30BA32B4B018971C1718171A1C181B10141B9A9098391C921CBA949D910041304C2982010C7066120260804B241180C0A70731B0684202608443241D02C02130442D92028C68644591845191AC5D9103C13048EDA802811A32883026C08A40D040400D304A1AB3604D504410068404D3585A5B97199B2FA827A9B4BA34B7B739B2014CD04A1703604CA04A178260805B46151326DE3BAA1533C80085511D6D0D39314D104A1882608C4B241100331D8B00C60A0795C180C61307863C062E889E9496A8240301B043130830D4B53069AC785C1D035DE196C183E3240032653565F546172676574138442DAB0286AA0AD01E70D9DE29DC186800D360C69D006C004C19B3608CA1B6C282ECC0D2838A8C2C666D7E6924656E646372508AA90E1B9D895C9CDA5BDB94D09882664782E76616C7665725302A30E199ECB1C5A1859995CD31B5919DB9400294386E7225736F75627375636372598EA90E1B9D8A595DD25914DD185D1954D09AA3A64782E656E747279506F696E747353023800000000791800004C0000003308801CC4E11C6614013D88433884C38C4280077978077398710CE6000FED100EF4800E330C421EC2C11DCEA11C6630053D88433884831BCC033DC8433D8C033DCC788C7470077B08077948877070077A700376788770208719CC110EEC900EE1300F6E300FE3F00EF0500E3310C41DDE211CD8211DC2611E6630893BBC833BD04339B4033CBC833C84033BCCF0147660077B680737688772680737808770908770600776280776F8057678877780875F08877118877298877998812CEEF00EEEE00EF5C00EEC300362C8A11CE4A11CCCA11CE4A11CDC611CCA211CC4811DCA6106D6904339C84339984339C84339B8C33894433888033B94C32FBC833CFC823BD4033BB0C30CC421077C70037A288776808719D1430EF8E006E4200EE7E006F6100EF2C00EE1900FEF500FF400000071200000190000000660A4AC09208D1150C3E53B8F0F348D3301131102CDB01056D00D97EF3CBE1011C0448440332CC41739CC863403D21816300D97EF3CFEE20083D83CD4E417B76D03D070F9CEE34B00F32C845FDCB60954C3E53B8F2F4D4E44A0D4F450935FDC3600000061200000490000001304412C100000000B00000034470088CC0014422994EC40C10E94244471141E9512A03787A07473085E427204600E22491287C60C0000002306080082604085C13274CF8801028020185062C00C1E34629000200806C6193CDE874123060900826060A001F48141128D182400088281910611188441268D182400088281A10652188841378D182400088281B10693198C01478D182400088281C106D4199041538D181C00088201A40612D28C181C00088201B40613D28C183C00088241D306911010C3B29CC11960CB6842008C2608C168C2208C261083118D7C8C68E46344231F231AF98C18240008820172071F1CC0411A1023060900826080DCC1070770900D23060900826080DCC10707708006C28841028020182077F0C1011CAC41800000000000000000";

    public const string VSByLegacyHexSpirv = "0302230700040100280000002D0000000000000011000200010000000E00030000000000010000000F000C00000000000100000056534D61696E000002000000030000000400000005000000060000000700000008000000030003000B000000010000000500060005000000696E7075742E506F736974696F6E00000500050006000000696E7075742E5556000000000500050007000000696E7075742E436F6C6F720005000A00090000005F4D617472697853746F726167655F666C6F617434783464656661756C7400000600050009000000000000006461746100000000050007000A000000436F6E7374616E74735F64656661756C74000000060006000A0000000000000050726F6A656374696F6E0000050008000B000000476C6F62616C506172616D735F64656661756C7400000000060006000B00000000000000636F6E7374616E74730000000500060008000000676C6F62616C506172616D73000000000500090003000000656E747279506F696E74506172616D5F56534D61696E2E555600000005000A0004000000656E747279506F696E74506172616D5F56534D61696E2E436F6C6F7200000000050004000100000056534D61696E000047000400050000001E0000000000000047000400060000001E0000000100000047000400070000001E00000002000000470004000C00000006000000100000004800050009000000000000002300000000000000480005000A000000000000002300000000000000470003000B00000002000000480005000B000000000000002300000000000000470004000800000021000000000000004700040008000000220000000000000047000400020000000B0000000000000047000400030000001E0000000000000047000400040000001E00000001000000130002000D000000210003000E0000000D000000160003000F0000002000000017000400100000000F0000000400000017000400110000000F000000020000002000040012000000010000001100000020000400130000000100000010000000150004001400000020000000010000002B0004001400000015000000000000002B0004000F00000016000000000000002B0004000F000000170000000000803F2B0004001400000018000000040000001C0004000C00000010000000180000001E000300090000000C0000001E0003000A000000090000001E0003000B0000000A0000002000040019000000020000000B000000200004001A000000020000000A000000180004001B0000001000000004000000200004001C0000000300000010000000200004001D00000003000000110000003B0004001200000005000000010000003B0004001200000006000000010000003B0004001300000007000000010000003B0004001900000008000000020000003B0004001C00000002000000030000003B0004001D00000003000000030000003B0004001C0000000400000003000000360005000D00000001000000000000000E000000F80002001E0000003D000400110000001F000000050000003D0004001100000020000000060000003D0004001000000021000000070000005000060010000000220000001F0000001600000017000000410005001A0000002300000008000000150000003D0004000A00000024000000230000005100050009000000250000002400000000000000510005000C00000026000000250000000000000051000500100000002700000026000000000000005100050010000000280000002600000001000000510005001000000029000000260000000200000051000500100000002A0000002600000003000000500007001B0000002B0000002700000028000000290000002A00000091000500100000002C0000002B000000220000003E000300020000002C0000003E00030003000000200000003E0003000400000021000000FD00010038000100";

    public const string VSByLinearHexSpirv = "0302230700040100280000003F0000000000000011000200010000000E00030000000000010000000F000C00000000000100000056534D61696E000002000000030000000400000005000000060000000700000008000000030003000B000000010000000500060005000000696E7075742E506F736974696F6E00000500050006000000696E7075742E5556000000000500050007000000696E7075742E436F6C6F720005000A00090000005F4D617472697853746F726167655F666C6F617434783464656661756C7400000600050009000000000000006461746100000000050007000A000000436F6E7374616E74735F64656661756C74000000060006000A0000000000000050726F6A656374696F6E0000050008000B000000476C6F62616C506172616D735F64656661756C7400000000060006000B00000000000000636F6E7374616E74730000000500060008000000676C6F62616C506172616D73000000000500090003000000656E747279506F696E74506172616D5F56534D61696E2E555600000005000A0004000000656E747279506F696E74506172616D5F56534D61696E2E436F6C6F7200000000050004000100000056534D61696E000047000400050000001E0000000000000047000400060000001E0000000100000047000400070000001E00000002000000470004000C00000006000000100000004800050009000000000000002300000000000000480005000A000000000000002300000000000000470003000B00000002000000480005000B000000000000002300000000000000470004000800000021000000000000004700040008000000220000000000000047000400020000000B0000000000000047000400030000001E0000000000000047000400040000001E00000001000000130002000D000000210003000E0000000D000000160003000F0000002000000017000400100000000F0000000400000017000400110000000F000000020000002000040012000000010000001100000020000400130000000100000010000000150004001400000020000000010000002B0004001400000015000000000000002B0004000F00000016000000000000002B0004000F000000170000000000803F2B0004001400000018000000040000001C0004000C00000010000000180000001E000300090000000C0000001E0003000A000000090000001E0003000B0000000A0000002000040019000000020000000B000000200004001A000000020000000A000000180004001B0000001000000004000000170004001C0000000F000000030000002B0004000F0000001D00000012519C3E2B0004000F0000001E000000C4A22E3F2B0004000F0000001F000000C22C4D3C20000400200000000300000010000000200004002100000003000000110000003B0004001200000005000000010000003B0004001200000006000000010000003B0004001300000007000000010000003B0004001900000008000000020000003B0004002000000002000000030000003B0004002100000003000000030000003B0004002000000004000000030000002C0006001C000000220000001E0000001E0000001E0000002C0006001C000000230000001F0000001F0000001F000000360005000D00000001000000000000000E000000F8000200240000003D0004001100000025000000050000003D0004001100000026000000060000003D000400100000002700000007000000500006001000000028000000250000001600000017000000410005001A0000002900000008000000150000003D0004000A0000002A0000002900000051000500090000002B0000002A00000000000000510005000C0000002C0000002B0000000000000051000500100000002D0000002C0000000000000051000500100000002E0000002C0000000100000051000500100000002F0000002C000000020000005100050010000000300000002C00000003000000500007001B000000310000002D0000002E0000002F0000003000000091000500100000003200000031000000280000004F0008001C0000003300000027000000270000000000000001000000020000008E0005001C00000034000000330000001D000000810005001C000000350000003400000022000000850005001C000000360000003300000035000000810005001C000000370000003600000023000000850005001C000000380000003300000037000000510005000F00000039000000380000000000000052000600100000003A000000390000002700000000000000510005000F0000003B000000380000000100000052000600100000003C0000003B0000003A00000001000000510005000F0000003D000000380000000200000052000600100000003E0000003D0000003C000000020000003E00030002000000320000003E00030003000000260000003E000300040000003E000000FD00010038000100";

    public const string PSHexSpirv = "0302230700040100280000001C0000000000000011000200010000000E00030000000000010000000F000A00040000000100000050534D61696E00000200000003000000040000000500000006000000100003000100000007000000030003000B000000010000000500050005000000696E7075742E5556000000000500050006000000696E7075742E436F6C6F720005000400020000007465787475726500050004000300000073616D706C657200050006000700000073616D706C6564496D61676500000000050004000800000073616D706C6564000500080004000000656E747279506F696E74506172616D5F50534D61696E0000050004000100000050534D61696E000047000400050000001E0000000000000047000400060000001E000000010000004700040002000000210000000100000047000400020000002200000000000000470004000300000021000000020000004700040003000000220000000000000047000400040000001E000000000000001300020009000000210003000A00000009000000160003000B00000020000000170004000C0000000B00000002000000200004000D000000010000000C000000170004000E0000000B00000004000000200004000F000000010000000E00000019000900100000000B000000010000000200000000000000000000000100000000000000200004001100000000000000100000001A00020012000000200004001300000000000000120000001B00030014000000100000002000040015000000030000000E0000003B0004000D00000005000000010000003B0004000F00000006000000010000003B0004001100000002000000000000003B0004001300000003000000000000003B000400150000000400000003000000360005000900000001000000000000000A000000F8000200160000003D0004000C00000017000000050000003D0004000E00000018000000060000003D0004001000000019000000020000003D000400120000001A00000003000000560005001400000007000000190000001A000000570006000E00000008000000070000001700000000000000850005000E0000001B00000018000000080000003E000300040000001B000000FD00010038000100";

    public static void Get(Backend backend, ColorSpaceHandling colorSpaceHandling, out ResourceLayoutDesc resourceLayoutDesc, out byte[] vs, out byte[] ps)
    {
        switch (backend)
        {
            case Backend.DirectX12:
                {
                    resourceLayoutDesc = new
                    (
                        new(ShaderStages.Vertex, ResourceType.ConstantBuffer, 0),
                        new(ShaderStages.Pixel, ResourceType.Texture, 0),
                        new(ShaderStages.Pixel, ResourceType.Sampler, 0)
                    );

                    GetDxil(colorSpaceHandling, out vs, out ps);
                }
                break;
            case Backend.Vulkan:
                {
                    resourceLayoutDesc = new
                    (
                        new(ShaderStages.Vertex, ResourceType.ConstantBuffer, 0),
                        new(ShaderStages.Pixel, ResourceType.Texture, 1),
                        new(ShaderStages.Pixel, ResourceType.Sampler, 2)
                    );

                    GetSpirv(colorSpaceHandling, out vs, out ps);
                }
                break;
            default:
                throw new ZenithEngineException(ExceptionHelpers.NotSupported(backend));
        }
    }

    private static void GetDxil(ColorSpaceHandling colorSpaceHandling, out byte[] vs, out byte[] ps)
    {
        vs = colorSpaceHandling switch
        {
            ColorSpaceHandling.Legacy => Convert.FromHexString(VSByLegacyHexDxil),
            ColorSpaceHandling.Linear => Convert.FromHexString(VSByLinearHexDxil),
            _ => throw new ZenithEngineException(ExceptionHelpers.NotSupported(colorSpaceHandling))
        };

        ps = Convert.FromHexString(PSHexDxil);
    }

    private static void GetSpirv(ColorSpaceHandling colorSpaceHandling, out byte[] vs, out byte[] ps)
    {
        vs = colorSpaceHandling switch
        {
            ColorSpaceHandling.Legacy => Convert.FromHexString(VSByLegacyHexSpirv),
            ColorSpaceHandling.Linear => Convert.FromHexString(VSByLinearHexSpirv),
            _ => throw new ZenithEngineException(ExceptionHelpers.NotSupported(colorSpaceHandling))
        };

        ps = Convert.FromHexString(PSHexSpirv);
    }
}
